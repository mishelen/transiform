document.addEventListener("DOMContentLoaded",()=>{!function(){function t(t,e){return t.setAttribute("transform",`translate(${t.getBBox().x+t.getBBox().width} ${t.getBBox().y+t.getBBox().height}) skewX(${e}) translate(${-t.getBBox().x-t.getBBox().width} ${-t.getBBox().y-t.getBBox().height})`)}function e(){let e=0,o=!1,n=!1,r=!1,i=setTimeout(function c(){o||(e+=.2)>1.8&&(o=!0),o&&!n&&(e-=.2)<-.5&&(n=!0),n&&!r&&(e+=.2)>0&&(r=!0),[s,a].forEach(o=>{t(o,e)}),(!o&&e<2||o&&!n&&e>-1||n&&!r&&e<1)&&(i=setTimeout(c,h/2))},h/2)}const o=document.getElementById("city_art"),n=(t=>e=>t.getElementById(e))(o),r=(t,e)=>Math.floor(Math.random()*(e-t))+t,s=n("back_buildings"),a=n("front_buildings"),i=n("lake"),c=n("bench"),l=n("sky"),u=n("sun"),m=n("horizont"),d=(n("railroad_group"),n("train1"),n("clone_tree"));let f=1;const h=1e3/60;let B=()=>h*f;[s,a,i,c,l,u,m].forEach(t=>t.setAttribute("hidden",!0));const[,,g,b]=o.getAttribute("viewBox").split(" "),x=function(t){let e=[];t.setAttribute("transform","translate("+-t.getElementsByTagName("circle")[0].getAttribute("cx")+-t.getBBox().height/2+")");for(let o=0;o<10;o++){const o=r(0,b),n=Math.random()>.5?r(490,540):r(570,700),s=Math.floor(100*(n/80-5.7))/100,a=`translate(${o} ${n}) scale(${s})`,i={node:t.cloneNode(!0),moveX:0,x:o,y:n,scale:s,iniTransform:a};i.node.setAttribute("transform",i.iniTransform),e.push(i)}return(e=e.sort((t,e)=>t.scale-e.scale)).forEach(t=>{t.node.style.opacity="1",o.insertBefore(t.node,t.y<560?s:i)}),e}(d);!function(t){let e=!1,n=setTimeout(function r(){f>.5&&(f-=.007),!e&&f<.6&&(e=!0,t()),x.forEach(t=>{t.moveX-=B()*t.scale,t.x+t.moveX<0&&(t.moveX=b-t.x,t.node&&f<.5&&(o.removeChild(t.node),t.node=null)),t.node&&t.node.setAttribute("transform","translate("+t.moveX+") "+t.iniTransform)}),x.some(t=>t.node)&&(n=setTimeout(r,h))},h)}(function(t){let o=setTimeout(function t(){p-=B(),[s,a,i,l].forEach(t=>{t.setAttribute("transform","translate("+p+")")}),p>0?o=setTimeout(t,h):e()},h)});let p=2*b;[s,a,i,l].forEach(t=>{t.setAttribute("transform","translate("+p+")"),t.removeAttribute("hidden")})}(),function(){ymaps.ready(function(){t=new ymaps.Map("map",{center:[52.10205756,23.69707825],zoom:16,controls:[]},{suppressMapOpenBlock:!0,suppressObsoleteBrowserNotifier:!0}),e=new ymaps.Placemark([52.10174257,23.698815],{hintContent:'офис СЗАО "Трансинформ"'}),t.geoObjects.add(e)});let t,e}()});